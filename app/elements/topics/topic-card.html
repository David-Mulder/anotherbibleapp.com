<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../text/bible-snippet.html">

<dom-module id="topic-card">
  <template>
    <style>
      :host{
        display: block;
      }
      paper-card{
        display: block;
      }
      .verse:hover{
        background: rgba(0,0,0,.05);
        cursor: pointer;
      }
    </style>
    <paper-card heading="{{topic.title}}" class="full-page">

      <template is="dom-repeat" items="{{topic.verses}}" as="snippet">
        <div class="card-actions verse" on-tap="goToVerse">
          <bible-snippet start="{{snippet.start}}" end="{{snippet.end}}" highlight="{{searchQuery}}"></bible-snippet>
        </div>
      </template>

    </paper-card>
  </template>

  <script>
    (function() {
      'use strict';

      Polymer({
        is: 'topic-card',

        properties: {
          topic: Object
        },

        ready: function(){
        },

        goToVerse: function(ev){
          var snippet = ev.model.snippet;
          app.navigateTo('/book/'+snippet.start);
          console.log(snippet);
        }
      });
    })();
  </script>

</dom-module>
