<link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="/bower_components/paper-menu-button/paper-menu-button.html">
<link rel="import" href="/bower_components/paper-icon-button/paper-icon-button.html">
<link rel="import" href="./card-recent-questions.html">

<dom-module id="page-welcome">
  <template>
    <style include="shared-styles"></style>
    <style include="page-styles"></style>
    <style>
      card-recent-questions{
        max-width: 700px;
        margin: auto;
      }
    </style>
    <paper-toolbar>
      <intelligent-title no-title-if-wide></intelligent-title>
      <span class="flex"></span>
      <paper-icon-button icon="search" on-tap="goToSearch"></paper-icon-button>
      <paper-menu-button horizontal-align="right">
        <paper-icon-button icon="more-vert" class="dropdown-trigger"></paper-icon-button>
        <paper-menu class="dropdown-content">
          <paper-item on-tap="goToLicense">License</paper-item>
          <paper-item hidden="{{!loggedIn}}" on-tap="goToLogout">Log&nbsp;out</paper-item>
        </paper-menu>
      </paper-menu-button>
    </paper-toolbar>
    <div class="page-content">
      <auth-api logged-in="{{loggedIn}}"></auth-api>
      <template is="dom-if" if="{{loggedIn}}">
        <paper-card heading="Welcome back">
          <div class="card-content">
            Below you can find recently asked questions and books you have recently started reading. Swipe from the left to get an overview of all books or if you're looking for a specific text use the search function in the top right.
          </div>
          <div class="card-actions">
            <paper-button on-tap="goToLogout">Dismiss</paper-button>
          </div>
        </paper-card>

        <card-recent-questions></card-recent-questions>
      </template>
      <div hidden="{{loggedIn}}">
        <paper-card heading="Welcome to Another Bible App">
          <div class="card-content">
            There are a lot of Bible Apps out there, so thanks for using this one. To use the Q&A parts of the app fully
            you need to register and log in. If you want to just read go right ahead and pick the book from the left drawer.
            Use search in the top right even offline to find bible verses.
          </div>
          <div class="card-actions">
            <paper-button on-tap="goToLogin">Log In</paper-button>
            <paper-button on-tap="goToRegister">Register</paper-button>
          </div>
        </paper-card>
        <paper-card heading="Q&A">
          <div class="card-content">
            An integral part of this bible app is the ability to ask and answer questions about bible texts.
          </div>
        </paper-card>
        <paper-card heading="Focused reading">
          <div class="card-content">
            The Bible is 'just' a collection of books and letters. Stuff like verses, notes, pericopes (the headers in
            between paragraphs) and all those things were added later. Naturally these are incredibly useful when deeply
            studying a specific text, but only distract from the original text as a whole. By default this app will hide
            all these things, although they are just a tap away if you need them.
          </div>
        </paper-card>
      </div>
    </div>
  </template>

  <script>
    (function() {
      'use strict';

      Polymer({
        is: 'page-welcome',

        properties: {

        },
        ready: function(){
        },
        goToSearch: function(){
          page.show('/search');
        },
        goToLogin: function(){
          page.show('/login');
        },
        goToLogout: function(){
          page.show('/logout');
        },
        goToLicense: function(){
          page.show('/bible/license');
        },
        goToRegister: function(){
          page.show('/register');
        }
      });
    })();
  </script>

</dom-module>
